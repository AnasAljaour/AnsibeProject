@using AnsibeProject.Models;
@* @model List<Ansibe>; *@
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<div class="side-bar active">
   
    <nav class="navbar">

       
        <form method="post">
            <select class="dropdown" onchange="getAllocationBasedOnYear(this)">
                <option value="">Year</option>
                @if (ViewBag.Year != null)
                {
                    foreach (string str in ViewBag.Year)
                    {
                        <option value="@str">@str</option>
                    }
                }
            </select>
            
        </form>
        <div>
            <table class="table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Ansibe</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="Ansibe-tbody">
                </tbody>
            </table>
        </div>
    </nav>

</div>
<section class="courses" id="sectionAssign">
    <div class="box-container">
        <div class="box">
            <h3>Section/Professor</h3>
            <button class="inline-btn" id="menu-btn" onclick="showSidebar()">Use Existing One</button>
            <button class="inline-btn" onclick="showCreateSection()" type="button">Create Section</button>
            <button class="inline-btn" onclick="swapContent()">swap</button>
            
            <input type="hidden" id="AnsibeId" value="@ViewBag.AnsibeId" />
        </div>
        <div id="holder">
        </div>
    </div>
</section>

<section class="courses"></section>

<div>
    <section>


        <div class="popup" id="popup">
            <form class="box">
                <h1>Courses</h1>
                <button type="button" onclick="saveCreatedSections()" class="inline-btn">SAVE</button>
                <button type="button" onclick="cancelCreation()" class="inline-btn">Cancel</button>
                <table class="table Active-datatable">
                    <thead>
                    <th>Course Code</th>
                    <th>Course Description</th>
                    <th>Course Hour</th>
                    <th>TD</th>
                    <th>TP</th>
                    <th>Language</th>
                    <th>Add</th>
                    <th></th>
                    </thead>
                    <tbody>
                        @if (ViewBag.courses != null)
                        {


                            @foreach (var course in ViewBag.courses)
                            {

                                if (course.CourseState.Equals(ActiveState.Active))
                                {
                                    <tr id="CourseCode" style="border-bottom: 2px solid black;">
                                        <td>
                                            @course.CourseCode
                                        </td>
                                        <td>
                                            @course.CourseDescription

                                        </td>
                                        <td>
                                            <input type="checkbox" name="c[]" />
                                        </td>
                                        <td>
                                            <input type="checkbox" name="c[]" />
                                        </td>
                                        <td>
                                            <input type="checkbox" name="c[]" />
                                        </td>
                                        <td>
                                            <select asp-items="Html.GetEnumSelectList<AnsibeProject.Models.Language>()">
                                            </select>
                                        </td>
                                        <td>
                                            <button class="inline-btn" onclick="createSections(this,'@course.CourseCode','@course.CourseDescription', '@course.NumberOfHours','@course.TP','@course.TD')" type="button">Add</button>
                                        </td>
                                        <td>
                                            <table class="table">
                                                <thead>
                                                <th>course</th>
                                                <th>TP</th>
                                                <th>TD</th>
                                                <th>Language</th>
                                                <th></th>

                                                </thead>
                                                <tbody id="tbody-@course.CourseCode">
                                                </tbody>
                                            </table>

                                        </td>

                                    </tr>
                                    @*<tr style="border-bottom: 2px solid black;">
                        <td colspan="2">

                        </td>
                        <td colspan="5">
                        <table class="table">
                        <thead>
                        <th>course</th>
                        <th>TP</th>
                        <th>TD</th>
                        <th>Language</th>
                        <th></th>

                        </thead>
                        <tbody id="tbody-@course.CourseCode">
                        </tbody>
                        </table>
                        </td>
                        </tr>
                        *@


                                }

                            }
                        }
                    </tbody>
                </table>
            </form>
        </div>

    </section>
</div>
<section class="courses">
<div class="box-container">
    <div class="box">
        <button onclick="saveWork()" class="inline-btn" type="button">Finish !</button>

    </div>

</div>
</section>

@section Scripts {
    <script src="~/lib/js/Assign.js"></script>
} 