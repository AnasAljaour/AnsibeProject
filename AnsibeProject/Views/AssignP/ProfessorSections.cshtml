@using AnsibeProject.Models;
@model List<Section>;

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


@{
    Dictionary<string, List<Section>> professorSections = new Dictionary<string, List<Section>>();

    foreach (var section in Model)
    {

        var professorName = section.Professor.FullNameInArabic;

        if (!professorSections.ContainsKey(professorName))
        {
            professorSections[professorName] = new List<Section>();
        }
        professorSections[professorName].Add(section);
    }
}


<section class="Assign">
    <div class="box-container">
        <div class="box">
            <h3>Section/Professor</h3>
            <button class="inline-btn" onclick="showCreateSection()" type="button">Create Section</button>
            <button class="inline-btn" onclick="swapContent()" type="button">swap</button>
<form method="post" class="toggle-div hidden" style="display: none;">

    <table class="table table-striped Active-datatable">
        <thead>
            <tr>
                <th>Professor Id</th>
                <th>Professor Name</th>

                <th>Section </th>



            </tr>
        </thead>
        <tbody>
            

                                    @foreach (var professor in professorSections)
                                    {
                            
            
            <tr>
               
                <td>
                    @professor.Key
                </td>

                            
                

                <td>
                                           

                                                @foreach (var s in Model)
                                                {
                                                    
                    <table class="table table-striped Active-datatable">
                        <thead>
                        <th>Section Id</th>
                        <th>Course Code</th>
                        <th>Course Description</th>
                        <th>Course Hours</th>
                        <th>TD</th>
                        <th>TP</th>
                        <th>Language</th>
                        <th>Delete</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    @s.SectionId
                                </td>

                                <td>
                                    @s.Course.CourseCode
                                </td>
                                <td>
                                    @s.Course.CourseDescription
                                </td>
                                <td>
                                    @s.CourseHours
                                </td>
                                <td>
                                    @s.TD
                                </td>

                                <td>
                                    @s.TP
                                </td>

                                <td>
                                    @s.Language
                                </td>
                                                                <td>
                                                                    <button class="inline-btn">Assign</button>
                                                                </td>
                                <td>
                                    <button class="inline-delete-btn">Delete</button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                                                    
                    }
                    
                                                </td>
                                            
        </tr>
        }
                                           
    </tbody>             
    </table>
   
                                            
     
   



</form>
</section>