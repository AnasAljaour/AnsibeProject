@using AnsibeProject.Models;
@model List<Section>;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<section class="courses">
    <h1 class="heading">Professors</h1>
    <div class="box-container">
        <div class="box">
            <h3>Active Professors</h3>
            @* <a asp-controller="Professor" asp-action="Add" class="inline-btn">add Professor</a> *@
            <form method="post">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th data-searchable="true">File Number</th>
                        <th data-searchable="true">Full Name In Arabic</th>
                        <th data-searchable="true">Speciality</th>
                        <th data-searchable="true">Rank</th>
                        <th data-searchable="true">Email</th>
                        <th data-searchable="true">Phone Number</th>
                        <th data-searchable="true">Contract Type</th>
                        @* <th data-searchable="true">Max Hours</th>
                        <th data-searchable="true">Min Hours</th> *@
                        <th data-searchable="true">Full Name</th>
                        <th data-searchable="true">Select</th>

                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Count() > 0)
                    {


                        @foreach (var professor in ViewBag.professors)
                        {
                            if (professor.ActiveState.Equals(ActiveState.Active))
                            {



                                <tr>
                                    <td>
                                        @professor.FileNumber
                                    </td>
                                    <td>@professor.FullNameInArabic</td>
                                    <td>
                                        @professor.Speciality
                                    </td>
                                    <td>
                                        @professor.Rank
                                    </td>
                                    <td>
                                        @professor.Email
                                    </td>
                                    <td>
                                        @professor.PhoneNumber
                                    </td>
                                    <td>
                                        @professor.Contract.ContractType
                                    </td>

                                    @* <td>
                        @professor.Contract.MaxHours
                        </td>
                        <td>
                        @professor.Contract.MinHours
                        </td> *@
                                    <td>
                                        @professor.FirstName @professor.MiddleName @professor.LastName
                                    </td>
                                    <td>
                                        <button value="Assign" name="Assign" class="inline-btn" onclick="showAssignPopup()">Assign</button>
                                        <div class="popup" id="popup">
                                            <!-- Your HTML content for the pop-up screen goes here -->
                                            <h2>Assign Professor</h2>
                                            <h1 class="heading">Sections</h1>
                                            <div class="box-container">
                                                <div class="box">

                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th data-searchable="true">Course Code</th>
                                                                <th data-searchable="true">Course Description</th>
                                                                <th data-searchable="true">Course Hours</th>
                                                                
                                                                <th data-searchable="true">TD</th>
                                                                <th data-searchable="true">TP</th>

                                                                <th data-searchable="true">Language</th>
                                                                

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (Model != null && Model.Count() > 0)
                                                            {

                                                                @foreach (var s in Model)
                                                                {
                                                                    



                                                                        <tr>
                                                                            <td>
                                                                                @s.Course.CourseCode
                                                                            </td>
                                                                            <td>
                                                                                @s.Course.CourseDescription</td>
                                                                            <td>
                                                                                @s.CourseHours
                                                                            </td>
                                                                            <td>
                                                                                @s.TD
                                                                            </td>
                                                                            
                                                                            <td>
                                                                                @s.TP
                                                                            </td>
                                                                            
                                                                            <td>
                                                                                @s.Language
                                                                            </td>
                                                                            <td>
                                                                                <input type="checkbox" name="c1[]" />
                                                                            </td>
                                                                        </tr>

                                                                    }

                                                                

                                                            }


                                                        </tbody>
                                                    </table>
                                                </div>
                                                <button type="button" onclick="closePopup()" class="inline-btn">SAVE</button>
                                            </div>

                                    </td>

                                </tr>

                            }

                        }

                    }


                </tbody>
            </table>
            </form>
        </div>

    </div>



    @section Scripts {
        <script>
            let popup = document.getElementById("popup");
            function showAssignPopup() {
                popup.classList.add("open-popup");
            }
            function closePopup() {

                popup.classList.remove("open-popup");
            }
        </script>
    }

</section>